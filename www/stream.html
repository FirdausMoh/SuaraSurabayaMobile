<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Suara Surabaya</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/framework7@6.0.0/dist/css/framework7.bundle.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/stream.css">
</head>
<body>

    <!-- Tombol Back -->
    <div class="back-button-container">
        <button class="back-button" onclick="goBack()">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M17.77 3.77L16 2L6 12L16 22L17.77 20.23L9.54 12L17.77 3.77Z" fill="#1DA1F2" />
            </svg>
        </button>
    </div>

    <!-- Streaming Content -->
    <div class="stream-container">
        <div class="stream-logo">
            <img src="./img2/suara surabaya.png" alt="Radio Logo">
        </div>

        <!-- Record Timer -->
        <div class="record-timer" id="recordTimer">
            <div class="dot"></div>
            <span id="timer">00:00</span>
        </div>

        <!-- Stream Buttons -->
        <div class="stream-buttons">
            <button class="stream-button">
                <i class="fas fa-headphones gray-icon"></i>
            </button>
            <button class="stream-button play-button">
                <i class="fas fa-play"></i>
            </button>
            <a href="videostream.html" style="text-decoration: none;">
              <button class="stream-button">
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
                      <path d="M6 7.10333C6 6.49444 6.49444 6 7.10333 6H24.8967C25.5056 6 26 6.49444 26 7.10333V24.8967C25.9997 25.1892 25.8834 25.4697 25.6765 25.6765C25.4697 25.8834 25.1892 25.9997 24.8967 26H7.10333C6.81071 26 6.53007 25.8838 6.32316 25.6768C6.11624 25.4699 6 25.1893 6 24.8967V7.10333ZM14.4689 12.0167C14.402 11.9721 14.3243 11.9464 14.244 11.9425C14.1637 11.9385 14.0839 11.9564 14.0129 11.9943C13.942 12.0321 13.8827 12.0885 13.8413 12.1574C13.7999 12.2263 13.7779 12.3052 13.7778 12.3856V19.6144C13.7779 19.6948 13.7999 19.7737 13.8413 19.8426C13.8827 19.9115 13.942 19.9679 14.0129 20.0057C14.0839 20.0436 14.1637 20.0615 14.244 20.0575C14.3243 20.0536 14.402 20.0279 14.4689 19.9833L19.89 16.37C19.951 16.3294 20.001 16.2744 20.0355 16.2099C20.0701 16.1453 20.0882 16.0732 20.0882 16C20.0882 15.9268 20.0701 15.8547 20.0355 15.7901C20.001 15.7256 19.951 15.6706 19.89 15.63L14.4689 12.0167Z" fill="#EEEFF7"/>
                  </svg>
              </button>
          </a>
          
        </div>
    </div>
    <!-- Jadwal -->
<div class="schedule-container">
  <div class="schedule-header" id="scheduleHeader" onclick="toggleSchedule()">
      <span class="schedule-title">Jadwal Hari Ini</span>
      <i class="fas fa-chevron-down" id="chevronIcon"></i>
  </div>
  <div class="schedule-list" id="scheduleList" style="display: none;">
      <div class="schedule-item">
          <div class="schedule-info">
              <span class="program-title-active">Potret Kelana Kota</span>
              <span class="time">07.00</span>
          </div>
          <span class="status live">Live</span>
      </div>
      <div class="schedule-item">
          <div class="schedule-info">
              <span class="program-title">Kawan SS</span>
              <span class="time">08.00</span>
          </div>
          <span class="status upcoming">Upcoming</span>
      </div>
      <div class="schedule-item">
          <div class="schedule-info">
              <span class="program-title">Potret Netter</span>
              <span class="time">10.00</span>
          </div>
          <span class="status upcoming">Upcoming</span>
      </div>
  </div>
</div>


    <!-- Banner -->
    <div class="banner">
        <div class="banner-content">
            <img src="./img/profile.webp" alt="Penyiar" class="banner-avatar">
            <div class="banner-info">
                <p class="banner-name">Arif Kuswardaya</p>
                <p class="banner-status">
                    <span class="live-dot"></span> Live Now
                </p>
            </div>
            <button class="banner-button">Rekam</button>
        </div>
    </div>
    <div class="chat-header" style="background-color: #252836; padding: 16px;margin-top: 8px;">
      <h3 style="color: #FFF; font-family: Poppins; font-size: 16px; font-weight: 600; text-transform: capitalize;">Live Chat</h3>
  </div>
    <!-- Live Chat Section -->
    <div class="live-chat">
        <div class="chat-messages" id="chatMessages">
            <div class="message">
                <img src="./img/miftah.jpg" alt="User Avatar">
                <div class="message-content">
                    <strong>Bambang</strong>
                    <p>Suara Surabaya radio terbaik</p>
                </div>
            </div>
            <div class="message">
                <img src="./img/wahibatul.jpg" alt="User Avatar">
                <div class="message-content">
                    <strong>Siti</strong>
                    <p>Salam buat kak Desi, selamat pagi dan semangat menjalani hari</p>
                </div>
            </div>
            <div class="message">
                <img src="./img/miftah.jpg" alt="User Avatar">
                <div class="message-content">
                    <strong>Bambang</strong>
                    <p>Surabaya Pagi Pagi Macet</p>
                </div>
            </div>
        </div>
        
        <div class="chat-input">
            <input type="text" id="chatInput" placeholder="Tuliskan Pesan" style="padding: 16px;">
            <button id="sendButton">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <script>
        function goBack() {
            if (window.history.length > 1) {
                window.history.back();
            } else {
                window.location.href = "index.html";
            }
        }
    
        const playButton = document.querySelector(".play-button");
        const stopButton = document.querySelector(".stream-button:last-child");
        const chatMessages = document.getElementById("chatMessages");
        const chatInput = document.getElementById("chatInput");
        const sendButton = document.getElementById("sendButton");
    
        let isPlaying = false;
        const audio = new Audio("img2/radiostream.mp4"); // Tambahkan audio
    
        playButton.addEventListener("click", () => {
            isPlaying = !isPlaying;
            const icon = playButton.querySelector("i");
    
            if (isPlaying) {
                audio.play();
                icon.className = "fas fa-pause";
                console.log("Streaming started");
            } else {
                audio.pause();
                icon.className = "fas fa-play";
                console.log("Streaming paused");
            }
        });
    
        stopButton.addEventListener("click", () => {
            isPlaying = false;
            const icon = playButton.querySelector("i");
            icon.className = "fas fa-play";
            audio.pause();
            audio.currentTime = 0; // Set ulang ke awal saat berhenti
            console.log("Streaming stopped");
        });
    
        sendButton.addEventListener("click", () => {
            const message = chatInput.value.trim();
            if (message) {
                const newMessage = document.createElement("div");
                newMessage.classList.add("message");
                newMessage.innerHTML = `
                    <img src="./img/profile.webp" alt="User Avatar">
                    <div class="message-content">
                        <strong>You</strong>
                        <p>${message}</p>
                    </div>
                `;
                chatMessages.appendChild(newMessage);
                chatInput.value = "";
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        });
    
        function toggleSchedule() {
            const scheduleList = document.getElementById("scheduleList");
            const chevronIcon = document.getElementById("chevronIcon");
    
            if (scheduleList.style.display === "none") {
                scheduleList.style.display = "block";
                chevronIcon.classList.remove("fa-chevron-down");
                chevronIcon.classList.add("fa-chevron-up");
            } else {
                scheduleList.style.display = "none";
                chevronIcon.classList.remove("fa-chevron-up");
                chevronIcon.classList.add("fa-chevron-down");
            }
        }
    
        const recordButton = document.querySelector('.banner-button');
        const recordTimer = document.getElementById('recordTimer');
        const timerSpan = document.getElementById('timer');
    
        let isRecording = false;
        let seconds = 0;
        let interval;
    
        recordTimer.style.display = 'none';
    
        recordButton.addEventListener('click', () => {
            if (isRecording) {
                clearInterval(interval);
                recordTimer.style.display = 'none';
                recordButton.textContent = 'Rekam';
                isRecording = false;
                seconds = 0;
                timerSpan.textContent = '00:00';
            } else {
                recordTimer.style.display = 'flex';
                recordButton.textContent = 'Berhenti';
                isRecording = true;
    
                interval = setInterval(() => {
                    seconds++;
                    const minutes = Math.floor(seconds / 60).toString().padStart(2, '0');
                    const secs = (seconds % 60).toString().padStart(2, '0');
                    timerSpan.textContent = `${minutes}:${secs}`;
                }, 1000);
            }
        });
    </script>
    
</body>
</html>
